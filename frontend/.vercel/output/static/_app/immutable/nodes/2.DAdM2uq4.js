import{s as he,n as le,r as pe,o as ce}from"../chunks/B2QSKqcC.js";import{S as ge,i as me,d as h,m as oe,n as ie,b as z,c as u,o as M,p as be,q as t,r as Y,e as b,f as D,u as W,h as A,g as J,j as v,l as O,k as L,s as fe}from"../chunks/C-5sSPKp.js";function K(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}function se(r,e,l){const i=r.slice();return i[11]=e[l],i}function re(r,e,l){const i=r.slice();return i[14]=e[l],i[16]=l,i}function ve(r){let e,l=r[14].text+"",i;return{c(){e=v("div"),i=L(l),this.h()},l(o){e=b(o,"DIV",{style:!0});var n=D(e);i=J(n,l),n.forEach(h),this.h()},h(){t(e,"text-align","right"),t(e,"color","#4f46e5"),t(e,"font-weight","600")},m(o,n){z(o,e,n),u(e,i)},p(o,n){n&1&&l!==(l=o[14].text+"")&&fe(i,l)},d(o){o&&h(e)}}}function _e(r){let e,l=r[14].text+"",i;return{c(){e=v("div"),i=L(l),this.h()},l(o){e=b(o,"DIV",{style:!0});var n=D(e);i=J(n,l),n.forEach(h),this.h()},h(){t(e,"color","#374151")},m(o,n){z(o,e,n),u(e,i)},p(o,n){n&1&&l!==(l=o[14].text+"")&&fe(i,l)},d(o){o&&h(e)}}}function ae(r){let e;function l(n,d){return n[14].sender==="ai"?_e:ve}let i=l(r),o=i(r);return{c(){e=v("div"),o.c(),this.h()},l(n){e=b(n,"DIV",{style:!0});var d=D(e);o.l(d),d.forEach(h),this.h()},h(){t(e,"margin-bottom","12px"),t(e,"line-height","1.5")},m(n,d){z(n,e,d),o.m(e,null)},p(n,d){i===(i=l(n))&&o?o.p(n,d):(o.d(1),o=i(n),o&&(o.c(),o.m(e,null)))},d(n){n&&h(e),o.d()}}}function de(r){let e,l="Agent is thinking...";return{c(){e=v("div"),e.textContent=l,this.h()},l(i){e=b(i,"DIV",{style:!0,"data-svelte-h":!0}),W(e)!=="svelte-1r4mlub"&&(e.textContent=l),this.h()},h(){t(e,"color","#6b7280"),t(e,"font-style","italic")},m(i,o){z(i,e,o)},d(i){i&&h(e)}}}function ue(r){let e,l=r[11]+"",i,o,n,d;function E(){return r[7](r[11])}return{c(){e=v("button"),i=L(l),o=O(),this.h()},l(k){e=b(k,"BUTTON",{style:!0});var p=D(e);i=J(p,l),o=A(p),p.forEach(h),this.h()},h(){t(e,"background","#f0f9ff"),t(e,"color","#0c4a6e"),t(e,"border","1px solid #bae6fd"),t(e,"border-radius","20px"),t(e,"padding","6px 14px"),t(e,"font-size","0.85rem"),t(e,"cursor","pointer"),t(e,"transition","all 0.2s"),e.disabled=r[2]},m(k,p){z(k,e,p),u(e,i),u(e,o),n||(d=M(e,"click",E),n=!0)},p(k,p){r=k,p&4&&(e.disabled=r[2])},d(k){k&&h(e),n=!1,d()}}}function xe(r){let e,l,i="SpurStore - AI Support Chat",o,n,d,E,k,p,C,F="Try asking:",B,S,_,I,w,c,R,y,G,N,Q,V,Z="Ask me anything about our store, shipping, returns, or support!",X,$,j=K(r[0]),g=[];for(let a=0;a<j.length;a+=1)g[a]=ae(re(r,j,a));let x=r[2]&&de(),q=K(r[5]),m=[];for(let a=0;a<q.length;a+=1)m[a]=ue(se(r,q,a));return{c(){e=v("div"),l=v("h1"),l.textContent=i,o=O(),n=v("div"),d=v("div");for(let a=0;a<g.length;a+=1)g[a].c();E=O(),x&&x.c(),k=O(),p=v("div"),C=v("div"),C.textContent=F,B=O(),S=v("div");for(let a=0;a<m.length;a+=1)m[a].c();_=O(),I=v("div"),w=v("form"),c=v("input"),R=O(),y=v("button"),G=L("Send"),Q=O(),V=v("div"),V.textContent=Z,this.h()},l(a){e=b(a,"DIV",{style:!0});var f=D(e);l=b(f,"H1",{style:!0,"data-svelte-h":!0}),W(l)!=="svelte-14b3eaj"&&(l.textContent=i),o=A(f),n=b(f,"DIV",{style:!0});var s=D(n);d=b(s,"DIV",{style:!0});var T=D(d);for(let U=0;U<g.length;U+=1)g[U].l(T);E=A(T),x&&x.l(T),T.forEach(h),k=A(s),p=b(s,"DIV",{});var P=D(p);C=b(P,"DIV",{style:!0,"data-svelte-h":!0}),W(C)!=="svelte-11kuu6r"&&(C.textContent=F),B=A(P),S=b(P,"DIV",{style:!0});var ee=D(S);for(let U=0;U<m.length;U+=1)m[U].l(ee);ee.forEach(h),P.forEach(h),s.forEach(h),_=A(f),I=b(f,"DIV",{style:!0});var te=D(I);w=b(te,"FORM",{style:!0});var H=D(w);c=b(H,"INPUT",{type:!0,placeholder:!0,style:!0}),R=A(H),y=b(H,"BUTTON",{type:!0,style:!0});var ne=D(y);G=J(ne,"Send"),ne.forEach(h),H.forEach(h),te.forEach(h),Q=A(f),V=b(f,"DIV",{style:!0,"data-svelte-h":!0}),W(V)!=="svelte-9vneo2"&&(V.textContent=Z),f.forEach(h),this.h()},h(){t(l,"font-size","2rem"),t(l,"font-weight","800"),t(l,"text-align","center"),t(l,"margin","0 0 24px"),t(l,"color","#4f46e5"),t(d,"background","#f9fafb"),t(d,"border-radius","12px"),t(d,"padding","16px"),t(d,"margin-bottom","20px"),t(d,"min-height","120px"),t(C,"font-weight","600"),t(C,"margin-bottom","12px"),t(C,"color","#374151"),t(S,"display","flex"),t(S,"flex-wrap","wrap"),t(S,"gap","8px"),t(n,"background","white"),t(n,"border-radius","16px"),t(n,"box-shadow","0 6px 20px rgba(0,0,0,0.08)"),t(n,"padding","24px"),t(n,"margin-bottom","24px"),Y(c,"type","text"),Y(c,"placeholder","Type your message..."),t(c,"flex","1"),t(c,"padding","10px 14px"),t(c,"border","1px solid #d1d5db"),t(c,"border-radius","8px"),t(c,"font-size","14px"),c.disabled=r[2],Y(y,"type","submit"),y.disabled=N=r[2]||!r[1].trim(),t(y,"background","#4f46e5"),t(y,"color","white"),t(y,"border","none"),t(y,"border-radius","8px"),t(y,"padding","10px 20px"),t(y,"font-weight","600"),t(w,"display","flex"),t(w,"gap","10px"),t(I,"background","white"),t(I,"border-radius","16px"),t(I,"box-shadow","0 6px 20px rgba(0,0,0,0.08)"),t(I,"padding","20px"),t(V,"text-align","center"),t(V,"margin-top","28px"),t(V,"color","#64748b"),t(V,"font-size","0.9rem"),t(e,"max-width","650px"),t(e,"margin","30px auto"),t(e,"padding","0 16px"),t(e,"font-family","-apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif"),t(e,"color","#1f2937")},m(a,f){z(a,e,f),u(e,l),u(e,o),u(e,n),u(n,d);for(let s=0;s<g.length;s+=1)g[s]&&g[s].m(d,null);u(d,E),x&&x.m(d,null),u(n,k),u(n,p),u(p,C),u(p,B),u(p,S);for(let s=0;s<m.length;s+=1)m[s]&&m[s].m(S,null);u(e,_),u(e,I),u(I,w),u(w,c),ie(c,r[1]),u(w,R),u(w,y),u(y,G),u(e,Q),u(e,V),X||($=[M(c,"input",r[8]),M(c,"keydown",r[4]),M(w,"submit",be(r[9]))],X=!0)},p(a,[f]){if(f&1){j=K(a[0]);let s;for(s=0;s<j.length;s+=1){const T=re(a,j,s);g[s]?g[s].p(T,f):(g[s]=ae(T),g[s].c(),g[s].m(d,E))}for(;s<g.length;s+=1)g[s].d(1);g.length=j.length}if(a[2]?x||(x=de(),x.c(),x.m(d,null)):x&&(x.d(1),x=null),f&100){q=K(a[5]);let s;for(s=0;s<q.length;s+=1){const T=se(a,q,s);m[s]?m[s].p(T,f):(m[s]=ue(T),m[s].c(),m[s].m(S,null))}for(;s<m.length;s+=1)m[s].d(1);m.length=q.length}f&4&&(c.disabled=a[2]),f&2&&c.value!==a[1]&&ie(c,a[1]),f&6&&N!==(N=a[2]||!a[1].trim())&&(y.disabled=N)},i:le,o:le,d(a){a&&h(e),oe(g,a),x&&x.d(),oe(m,a),X=!1,pe($)}}}function ye(r,e,l){let i=[],o="",n=!1,d=null;ce(()=>{l(0,i=[{sender:"ai",text:"ðŸ‘‹ Hi! I'm your AI support agent. How can I help you today?"}])});async function E(_){if(!(!_.trim()||n)){l(1,o=""),l(2,n=!0),l(0,i=[...i,{sender:"user",text:_}]);try{const I=await fetch("http://localhost:3001/api/chat/message",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:_,sessionId:d})}),w=await I.json();I.ok&&(d=w.sessionId,l(0,i=[...i,{sender:"ai",text:w.reply}]))}catch{l(0,i=[...i,{sender:"ai",text:"Sorry, our agent is having trouble right now. Please try again."}])}finally{l(2,n=!1)}}}function k(_){_.key==="Enter"&&!_.shiftKey&&(_.preventDefault(),E(o))}const p=["Whatâ€™s your return policy?","Do you ship to the USA?","What are your support hours?"];function C(_){E(_)}const F=_=>C(_);function B(){o=this.value,l(1,o)}return[i,o,n,E,k,p,C,F,B,()=>E(o)]}class we extends ge{constructor(e){super(),me(this,e,ye,xe,he,{})}}export{we as component};
